{% extends 'base.html' %}

{% block content %}
<h2>Boş Slotları Toplu Sil</h2>
<p class="text-muted">Seçtiğiniz tarih aralığındaki <strong>boş</strong> (temsilcisi olmayan) randevu slotlarını topluca silebilirsiniz.</p>
<hr>

<form class="row g-2 align-items-end mb-3" method="get">
  <div class="col-auto">
    <label class="form-label">Başlangıç</label>
    <input type="date" class="form-control" name="start" value="{{ start }}">
  </div>
  <div class="col-auto">
    <label class="form-label">Bitiş</label>
    <input type="date" class="form-control" name="end" value="{{ end }}">
  </div>
  <div class="col-auto">
    <button class="btn btn-outline-primary" type="submit">Önizle</button>
    <a class="btn btn-outline-secondary" href="{% url 'yonetim_bos_toplu_sil' %}">Sıfırla</a>
  </div>
</form>

<div class="alert alert-info">Bu aralıkta <strong>{{ sayi }}</strong> adet boş slot var.</div>

<form method="post" onsubmit="return confirm('Seçilen aralıktaki TÜM boş slotlar silinecek. Emin misiniz?');">
  {% csrf_token %}
  <input type="hidden" name="start" value="{{ start }}">
  <input type="hidden" name="end" value="{{ end }}">
  <button type="submit" class="btn btn-danger">Boş Slotları Sil</button>
</form>
{% endblock %}
